"use strict";(function(global,factory){if(typeof define==="function"&&define.amd){define(["exports"],factory)}else if(typeof exports!=="undefined"){factory(exports)}else{var mod={a:{}};factory(mod.a);global.b=mod.a}})(this,function(exports){Object.defineProperty(exports,"__esModule",{c:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.d=descriptor.d||false;descriptor.e=true;if("value"in descriptor)descriptor.f=true;Object.defineProperty(target,descriptor.g,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var $=exports.h=function $(q){var els=document.querySelectorAll(q);return els.length>1?els:els[0]};var append=exports.i=function append(e,children){children.forEach(function(child){return e.appendChild(child)});return e};var replace=exports.replace=function replace(prev,next){return prev.parentNode.replaceChild(next,prev,next)};var remove=exports.j=function remove(e){return e.parentNode.removeChild(e)};var setAttrs=exports.k=function setAttrs(el,attrs){var reducer=function reducer(e,key){var EVENT=/^on([A-Z]\w+)$/;if(EVENT.test(key))e.addEventListener(key.match(EVENT)[1].toLowerCase(),attrs[key]);else e.setAttribute(key,attrs[key]);return e};return Object.keys(attrs).reduce(reducer,el)};var h=exports.l=function h(tag){var attrs=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var children=arguments.length<=2||arguments[2]===undefined?[]:arguments[2];return setAttrs(append(document.createElement(tag),children),attrs)};var t=exports.m=function t(text){return document.createTextNode(text)};var mount=exports.n=function mount(componentClass,target,state){var className=(""+componentClass).match(/function ([A-Z]\w+)/)[1];return new componentClass("#"+target.o+"_"+className).n(target,state)};var isFunction=function isFunction(x){return typeof x==="function"};var callIfExist=function callIfExist(f,context){return isFunction(f)&&f.bind(context)()};var Component=exports.p=function(){function Component(selector){_classCallCheck(this,Component);this.q=selector;this.r={}}_createClass(Component,[{g:"setState",c:function setState(){var partial=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.r=_extends({},this.r,partial);this.update()}},{g:"mount",c:function mount(target){var props=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];this.unmount();this.r=_extends({},props);callIfExist(this.onMount,this);append(target,[this.renderedElement])}},{g:"unmount",c:function unmount(){callIfExist(this.onUnmount,this);if(this.self){remove(this.self)}}},{g:"update",c:function update(){callIfExist(this.onUpdate,this);if(this.self){replace(this.self,this.renderedElement)}}},{g:"self",s:function get(){return $(this.q)}},{g:"renderedElement",s:function get(){return setAttrs(this.render(this.r),{o:this.q.substr(1)})}}]);return Component}()});